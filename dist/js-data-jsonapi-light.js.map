{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3a2bd5f568bdda7577f6","webpack:///./src/strings.ts","webpack:///./src/utils.ts","webpack:///external {\"amd\":\"js-data\",\"commonjs\":\"js-data\",\"commonjs2\":\"js-data\",\"root\":\"JSData\"}","webpack:///./src/adapter.ts","webpack:///./src/deserializer.ts","webpack:///./src/serializer.ts","webpack:///external {\"amd\":\"js-data-http\",\"commonjs\":\"js-data-http\",\"commonjs2\":\"js-data-http\",\"root\":\"JSDataHttp\"}","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"js-data-jsonapi-light.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"js-data\"), require(\"js-data-http\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"js-data\", \"js-data-http\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JSDataJsonApiLight\"] = factory(require(\"js-data\"), require(\"js-data-http\"));\n\telse\n\t\troot[\"JSDataJsonApiLight\"] = factory(root[\"JSData\"], root[\"JSDataHttp\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3a2bd5f568bdda7577f6","export const ERROR = {\n  \"FORCE_STORE_OPTION\": \"JsonApiAdapter needs to be given a store option.\",\n  \"PREVENT_SERIALIZE_DESERIALIZE_OPTIONS\": \"You can not use deserialize and serialize options with this adapter, you should instead provide an afterSerialize, a beforeSerialize, an afterDeserialize or a beforeDeserialize.\",\n  NO_BATCH_CREATE: 'JSONApi doesn\\'t support creating in batch.',\n  NO_BATCH_UPDATE: 'JSONApi doesn\\'t support updating in batch.',\n  NO_BATCH_DESTROY: 'JSONApi doesn\\'t support destroying in batch.'\n};\n\nexport const WARNING = {\n  NO_RESSOURCE: (type:string) => { return `Can\\'t find resource '${type}'` },\n  RELATION_UNKNOWN: 'Unknown relation',\n  WRONG_RELATION_ARRAY_EXPECTED: 'Wrong relation somewhere, array expected',\n  WRONG_RELATION_OBJECT_EXPECTED: 'Wrong relation somewhere, object expected'\n}\n\n\n// WEBPACK FOOTER //\n// ./src/strings.ts","export function mapperCacheRelationByField (mapper:any):void {\n  if (!mapper.relationByField || !mapper.relationByFieldId) {\n    mapper.relationByField = {};\n    mapper.relationByFieldId = {};\n    for (let i = 0, l = (mapper.relationList || []).length; i < l; i++ ) {\n      let field:string = mapper.relationList[i].localField;\n      let key:string = mapper.relationList[i].localKey;\n\n      if (key) {\n        mapper.relationByFieldId[key] = mapper.relationList[i];\n      }\n\n      if (field) {\n        mapper.relationByField[field] = mapper.relationList[i];\n      } else {\n        this.warn('localField missing'); continue;\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"amd\":\"js-data\",\"commonjs\":\"js-data\",\"commonjs2\":\"js-data\",\"root\":\"JSData\"}\n// module id = 2\n// module chunks = 0","import { utils, DataStore, Mapper } from 'js-data';\nimport { HttpAdapter } from 'js-data-http';\nimport { Adapter } from 'js-data-adapter';\nimport { jsonApiDeserialize, wrapDeserialize } from './deserializer';\nimport { jsonApiSerialize, wrapSerialize } from './serializer';\nimport { ERROR } from './strings';\n\nexport class JsonApiAdapter extends HttpAdapter{\n  private options: any;\n\n  constructor(options?:any) {\n    options = utils.deepMixIn({\n      // Some default\n    }, options || {})\n\n    if (options.serialize || options.deserialize) {\n      throw new Error(ERROR.PREVENT_SERIALIZE_DESERIALIZE_OPTIONS)\n    }\n\n    super(options);\n\n    this.options = options;\n\n    this.serialize = wrapSerialize(this);\n    this.deserialize = wrapDeserialize(this);\n  }\n  \n  private warn(...args:any[]) {\n    console.warn.apply(null, arguments);\n    return;\n  }\n\n  private handleResponse (opts?:any) { return function (response:any): Promise<any> {\n    if (opts && opts.raw) {\n      response.meta = response.data.meta;\n      response.data = response.data.result;\n    }\n\n    // @todo #6 need to handle errors here\n\n    return response;\n  }}\n\n  private handleBeforeLifecycle (opts?:any): Promise<void> {\n    if(opts && (opts.serialize || opts.deserialize)) {\n      return Promise.reject(new Error(ERROR.PREVENT_SERIALIZE_DESERIALIZE_OPTIONS))\n    }\n\n    return Promise.resolve();\n  }\n\n  public find(mapper: Mapper, id: string | number, opts?: any): Promise<any> {\n    return this.handleBeforeLifecycle(opts).then(() => {\n      return HttpAdapter.prototype.find.call(this, mapper, id, opts);\n    }).then(this.handleResponse(opts));\n  }  \n  \n  public findAll(mapper: Mapper, query?: any, opts?: any): Promise<any> {\n    return this.handleBeforeLifecycle(opts).then(() => {\n      return HttpAdapter.prototype.findAll.call(this, mapper, query, opts);\n    }).then(this.handleResponse(opts));\n  }\n\n  public create(mapper: Mapper, props: any, opts?: any): Promise<any> {\n    return this.handleBeforeLifecycle(opts).then(() => {\n      return HttpAdapter.prototype.create.call(this, mapper, props, opts);\n    }).then(this.handleResponse(opts))\n  }\n\n  public update(mapper: Mapper, id: any, props: any, opts?: any): Promise<any> {\n    // Ensure id is properly set\n    props[mapper.idAttribute] = id;\n\n    // If we don't force the replace, then we will attempt to only update what\n    // has been changed through PATCH\n    if (!opts.forceReplace) {\n      // opts has the finaly say over the method used\n      opts.method = opts.method || 'patch';\n      \n      // We need the record to get changes\n      let record = (<any>mapper).datastore.get(mapper.name, id);\n      if (record) {\n        // Now we have two possible cases :\n        // * either props contain parameters the user want to update, and only\n        //   those should be updated\n        // * or when record is saved, props contains all data from the record\n        //   even unchanged data\n        // So we can't use record.changes(), because if first case it will be\n        // empty or with not the data we want to send. Thus we can do the same\n        // things the changes method do, but with props rather than with \n        // current attributes.\n        \n        // opts.changes = record.changes();\n        opts.changes = utils.diffObjects(props, record._get('previous'), null);\n      }\n    }\n\n    return this.handleBeforeLifecycle(opts).then(() => {\n      return HttpAdapter.prototype.update.call(this, mapper, id, props, opts)\n    }).then(this.handleResponse(opts))\n  }\n\n  public destroy(mapper: Mapper, id: string | number, opts?: any): Promise<any> {\n    return this.handleBeforeLifecycle(opts).then(() => {\n      return HttpAdapter.prototype.destroy.call(this, mapper, id, opts);\n    }).then(this.handleResponse(opts))\n  }\n\n  // Unsupported methods\n  public createMany(mapper: Mapper, props: any, opts?: any): Promise<any> {\n    return Promise.reject(new Error(ERROR.NO_BATCH_CREATE));\n  }\n\n  public updateAll(mapper: Mapper, props: any, query: any, opts?: any): Promise<any> {\n    return Promise.reject(new Error(ERROR.NO_BATCH_UPDATE));\n  }\n\n  public updateMany(mapper: Mapper, records: any, opts?: any): Promise<any> {\n    return Promise.reject(new Error(ERROR.NO_BATCH_UPDATE));\n  }\n\n  public destroyAll(mapper: Mapper, query: any, opts?: any): Promise<any> {\n    return Promise.reject(new Error(ERROR.NO_BATCH_DESTROY));\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/adapter.ts","import { mapperCacheRelationByField } from './utils';\nimport { utils, Mapper } from 'js-data';\nimport { WARNING } from './strings'\n\nexport function wrapDeserialize(self:any):any{\n  return function(mapper:any, res:any, opts:any){\n    let \n      beforeDeserialize = opts.beforeDeserialize || mapper.beforeDeserialize || self.options.beforeDeserialize,\n      afterDeserialize = opts.afterDeserialize || mapper.afterDeserialize || self.options.afterDeserialize;\n    \n    if (beforeDeserialize) res = beforeDeserialize.call(self, mapper, res, opts);\n    res = jsonApiDeserialize.call(self, mapper, res, opts);\n    if (afterDeserialize) res = afterDeserialize.call(self, mapper, res, opts);\n    return res;\n  }\n}\n\nexport function jsonApiDeserialize(mapper:Mapper, res:any, opts:any){\n  if (!res.data || !res.data.data) return;\n\n  const store = (<any>mapper).datastore;\n\n  const collectionReceived = utils.isArray(res.data.data)\n\n  // We store all possible items stores in the response in a Object[type][id]\n  // structure\n  let itemsIndexed:any = {};\n  let itemCollection:Array<any> = [].concat(res.data.included || [])\n                                    .concat(res.data.data || []);\n\n  let i = itemCollection.length;\n  while (i--) {\n    let item:any = itemCollection[i]\n    if (!item.type || !item.id) {\n      //@warn\n      // Just remove it so that we don't need to deal with it later\n      itemCollection.splice(i, 1);\n      continue;\n    }\n\n    if (!itemsIndexed[item.type]) itemsIndexed[item.type] = {};\n    itemsIndexed[item.type][item.id] = item;\n  }\n\n  // Know we will check every possible relationships and try to affect them\n  // the correct key/id\n  for (let type in itemsIndexed) {\n    let resource:any = store.getMapper(type);\n    if (!resource) { this.warn(WARNING.NO_RESSOURCE(type)); continue; }\n\n    // Just cache a pointer to relations for the Resource\n    mapperCacheRelationByField(resource);\n\n    for (let id in itemsIndexed[type]) {\n      let item:any = itemsIndexed[type][id];\n      item.attributes[resource.idAttribute] = id;\n\n      if (!item.relationships || !Object.keys(item.relationships)) continue;\n\n      for (let relationField in (item.relationships || {})) {\n        let relation:any = resource.relationByField[relationField];\n        \n        if (!relation || !item.relationships[relationField] || !item.relationships[relationField].data) {\n          continue;\n        }\n\n        if (relation.type === 'belongsTo' || relation.type === 'hasOne') {\n          let link:any = item.relationships[relationField].data\n          if (!utils.isObject(link)) {\n            this.warn(WARNING.WRONG_RELATION_OBJECT_EXPECTED, relation);\n            continue;\n          }\n\n          // In any case we include the Id in the attributes if we are in the\n          // case of a `belongsTo`\n          // For `hasOne`, like it's the remote object which should include\n          // the key, we don't do anything.\n          if (relation.type === 'belongsTo') {\n            item.attributes[relation.localKey] = link.id;\n          }\n\n          if (itemsIndexed[link.type] && itemsIndexed[link.type][link.id]) {\n            let remoteIdAttribute = relation.relatedCollection.idAttribute;\n            let itemLinked:any = itemsIndexed[link.type][link.id];\n            itemLinked.attributes[remoteIdAttribute] = link.id;\n            item.attributes[relation.localField] = itemLinked.attributes;\n          }\n        } else if (relation.type === 'hasMany') {\n          let links:any = item.relationships[relationField].data\n          if (!utils.isArray(links)) {\n            this.warn(WARNING.WRONG_RELATION_ARRAY_EXPECTED);\n            continue;\n          }\n\n          item.attributes[relation.localField] = [];\n          for (let i = 0, l = links.length; i < l; i++) {\n            let link:any = links[i];\n            if (itemsIndexed[link.type] && itemsIndexed[link.type][link.id]) {\n              let itemLinkd:any = itemsIndexed[link.type][link.id];\n              item.attributes[relation.localField].push(itemLinkd.attributes);\n            }\n          }\n        } else { this.warn(WARNING.RELATION_UNKNOWN); continue; }\n      }\n    }\n  }\n\n  let outputDatas:Array<any> | any;\n  if (!collectionReceived) {\n    outputDatas = res.data.data.attributes;\n  } else {\n    outputDatas = [];\n    for (let i = 0, l = res.data.data.length; i < l; i++) {\n      outputDatas.push(res.data.data[i].attributes);\n    }\n  }\n\n  if (!opts.raw) {\n    return outputDatas;\n  }\n\n  return {\n    result: outputDatas,\n    meta: res.data.meta\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/deserializer.ts","import { mapperCacheRelationByField } from './utils';\n\nexport function wrapSerialize (self:any):any{\n  return function(mapper:any, data:any, opts:any){\n    let \n      beforeSerialize = opts.beforeSerialize || mapper.beforeSerialize || self.options.beforeSerialize,\n      afterSerialize = opts.afterSerialize || mapper.afterSerialize || self.options.afterSerialize;\n    \n    if (beforeSerialize) data = beforeSerialize.call(self, mapper, data, opts);\n    data = jsonApiSerialize.call(self, mapper, data, opts);\n    if (afterSerialize) data = afterSerialize.call(self, mapper, data, opts);\n    return data;\n  }\n}\n\nexport function jsonApiSerialize (mapper:any, data:any, opts:any){\n  let id:any = data[mapper.idAttribute];\n  delete data[mapper.idAttribute];\n  \n  // Just cache a pointer to relations for the Resource\n  mapperCacheRelationByField(mapper);\n\n  let output:any = { data: { type: mapper.name } };\n\n  // Work for update or create, if an id is given, server should accept it\n  if (id) output.data.id = id;\n\n  let relationships:any = {};\n  let attributes:any = {};\n\n  // Only include relationships if needed\n  if (Object.keys(relationships).length) {\n    output.data.relationships = relationships;\n  }\n\n  // opts.changes is there when update method is PATCH\n  // in this case we change only what has changed\n  if (!opts.forceReplace && opts.changes && id) {\n    data = opts.changes.changed;\n  }\n\n  // @todo For the moment sending hasMany items is not supported and maybe\n  // shouldn't be supported for security reasons (cf. JSON Api Spec)\n  for (let key in data) {\n    let relation:any = mapper.relationByFieldId[key];\n\n    // No relations means a simple attribute\n    if (!relation) {\n      attributes[key] = data[key];\n      continue;\n    }\n\n    // Relation that can be in data are only belongsTo since it has a localKey\n    relationships[relation.localField] = {\n      data: {\n        type: relation.relation,\n        id: data[key]\n      }\n    }\n  }\n\n  // Only include relationships if needed\n  if (Object.keys(relationships).length) {\n    output.data.relationships = relationships;\n  }\n\n  // Only include attributes if needed\n  if (Object.keys(attributes).length !== 0) {\n    output.data.attributes = attributes;\n  }\n\n  return output;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/serializer.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"amd\":\"js-data-http\",\"commonjs\":\"js-data-http\",\"commonjs2\":\"js-data-http\",\"root\":\"JSDataHttp\"}\n// module id = 6\n// module chunks = 0","export * from './adapter';\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}